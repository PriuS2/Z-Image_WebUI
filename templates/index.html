<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Z-Image WebUI</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@4.0.0/fonts/remixicon.css" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <!-- ÏÇ¨Ïù¥ÎìúÎ∞î -->
        <aside class="sidebar">
            <div class="logo">
                <i class="ri-image-ai-line"></i>
                <span>Z-Image</span>
            </div>
            
            <nav class="nav-menu">
                <button class="nav-item active" data-tab="chat">
                    <i class="ri-chat-3-line"></i>
                    <span>ÎåÄÌôî</span>
                </button>
                <button class="nav-item" data-tab="controlnet">
                    <i class="ri-focus-3-line"></i>
                    <span>ControlNet</span>
                </button>
                <button class="nav-item" data-tab="gallery">
                    <i class="ri-gallery-line"></i>
                    <span>Í∞§Îü¨Î¶¨</span>
                </button>
                <button class="nav-item" data-tab="history">
                    <i class="ri-history-line"></i>
                    <span>ÌûàÏä§ÌÜ†Î¶¨</span>
                </button>
                <button class="nav-item" data-tab="favorites">
                    <i class="ri-star-line"></i>
                    <span>Ï¶êÍ≤®Ï∞æÍ∏∞</span>
                </button>
                <button class="nav-item" data-tab="settings">
                    <i class="ri-settings-3-line"></i>
                    <span>ÏÑ§Ï†ï</span>
                </button>
            </nav>
            
            <div class="model-status" id="modelStatus">
                <div class="status-indicator offline"></div>
                <span>Î™®Îç∏ ÎØ∏Î°úÎìú</span>
            </div>
        </aside>
        
        <!-- Î©îÏù∏ Ïª®ÌÖêÏ∏† -->
        <main class="main-content">
            <!-- ÎåÄÌôî ÌÉ≠ -->
            <section class="tab-content active" id="tab-chat">
                <div class="chat-container">
                    <!-- Î™®Îç∏ ÏÉÅÌÉú Î∞î (Ïä§ÌÅ¨Î°§Í≥º ÏÉÅÍ¥ÄÏóÜÏù¥ ÏÉÅÎã® Í≥†Ï†ï) -->
                    <div class="chat-sticky-header">
                        <div class="model-control-bar" id="modelControlBar">
                            <div class="model-info">
                                <div class="model-status-badge" id="modelStatusBadge">
                                    <span class="status-dot offline"></span>
                                    <span class="status-text">Î™®Îç∏ ÎØ∏Î°úÎìú</span>
                                </div>
                                <div class="chat-model-select">
                                    <select id="chatQuantizationSelect" title="ÏñëÏûêÌôî ÏòµÏÖò ÏÑ†ÌÉù">
                                        <option value="BF16 (Í∏∞Î≥∏, ÏµúÍ≥†ÌíàÏßà)">BF16 (Í∏∞Î≥∏)</option>
                                    </select>
                                </div>
                                <label class="cpu-offload-label" title="VRAMÏù¥ Î∂ÄÏ°±Ìï† Îïå Ï≤¥ÌÅ¨ÌïòÏÑ∏Ïöî. RAMÏùÑ ÏÇ¨Ïö©ÌïòÏó¨ VRAM ÏÇ¨Ïö©ÎüâÏùÑ Ï§ÑÏûÖÎãàÎã§.">
                                    <input type="checkbox" id="chatCpuOffloadCheck">
                                    <span>CPU Ïò§ÌîÑÎ°úÎî©</span>
                                    <span class="tooltip-icon" data-tooltip="VRAMÏù¥ Î∂ÄÏ°±Ìï† Îïå ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî. Î™®Îç∏ ÏùºÎ∂ÄÎ•º RAMÏóê Ïò¨Î†§ VRAM ÏÇ¨Ïö©ÎüâÏùÑ Ï§ÑÏûÖÎãàÎã§. ÏÜçÎèÑÎäî ÏïΩÍ∞Ñ ÎäêÎ†§Ïßà Ïàò ÏûàÏäµÎãàÎã§.">?</span>
                                </label>
                            </div>
                            <div class="model-actions">
                                <button class="btn btn-sm btn-primary" id="btnChatLoadModel" title="Î™®Îç∏ Î°úÎìú">
                                    <i class="ri-download-line"></i> Î°úÎìú
                                </button>
                                <button class="btn btn-sm btn-danger" id="btnChatUnloadModel" title="Î™®Îç∏ Ïñ∏Î°úÎìú">
                                    <i class="ri-close-line"></i> Ïñ∏Î°úÎìú
                                </button>
                            </div>
                        </div>
                        
                        <!-- ÌîÑÎ°úÍ∑∏Î†àÏä§ Î∞î -->
                        <div class="progress-container" id="progressContainer" style="display: none;">
                            <div class="progress-info">
                                <span class="progress-label" id="progressLabel">Î™®Îç∏ Î°úÎî© Ï§ë...</span>
                                <span class="progress-percent" id="progressPercent">0%</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" id="progressFill" style="width: 0%"></div>
                            </div>
                            <div class="progress-detail" id="progressDetail"></div>
                        </div>
                    </div>
                    
                    <div class="chat-messages" id="chatMessages">
                        <div class="message system">
                            <div class="message-content">
                                <p>üëã ÏïàÎÖïÌïòÏÑ∏Ïöî! Z-Image WebUIÏûÖÎãàÎã§.</p>
                                <p>Ïù¥ÎØ∏ÏßÄÎ•º ÏÉùÏÑ±ÌïòÎ†§Î©¥ ÌîÑÎ°¨ÌîÑÌä∏Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî.</p>
                                <p>ÏúÑÏùò <strong>Î°úÎìú</strong> Î≤ÑÌäºÏùÑ ÎàåÎü¨ Î™®Îç∏ÏùÑ Î®ºÏ†Ä Î°úÎìúÌï¥Ï£ºÏÑ∏Ïöî.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="chat-input-container">
                        <div class="input-options">
                            <button class="option-btn" id="btnTemplate" title="ÌÖúÌîåÎ¶ø">
                                <i class="ri-file-list-3-line"></i>
                            </button>
                            <button class="option-btn" id="btnTranslate" title="Î≤àÏó≠">
                                <i class="ri-translate-2"></i>
                            </button>
                            <button class="option-btn" id="btnEnhance" title="AI Ìñ•ÏÉÅ">
                                <i class="ri-magic-line"></i>
                            </button>
                            
                            <!-- LLM Î™®Îç∏ ÏÑ†ÌÉù (Î≤àÏó≠/Ìñ•ÏÉÅÏö©) -->
                            <div class="llm-quick-select">
                                <i class="ri-robot-line"></i>
                                <select id="chatLlmProviderSelect" title="Î≤àÏó≠/Ìñ•ÏÉÅÏóê ÏÇ¨Ïö©Ìï† LLM Provider">
                                    <option value="openai">OpenAI</option>
                                </select>
                                <select id="chatLlmModelSelect" title="ÏÇ¨Ïö©Ìï† Î™®Îç∏">
                                    <option value="">Í∏∞Î≥∏</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="input-row korean-input-row">
                            <div class="input-label">
                                <i class="ri-translate-2"></i>
                                <span>ÌïúÍµ≠Ïñ¥ ÏûÖÎ†•</span>
                                <button class="btn btn-xs btn-primary" id="btnTranslateKorean" title="ÌïúÍµ≠Ïñ¥Î•º ÏòÅÏñ¥Î°ú Î≤àÏó≠">
                                    <i class="ri-translate-2"></i> Î≤àÏó≠
                                </button>
                            </div>
                            <textarea id="koreanInput" placeholder="Ïó¨Í∏∞Ïóê ÌïúÍµ≠Ïñ¥Î°ú ÏûÖÎ†•ÌïòÏÑ∏Ïöî..." rows="2"></textarea>
                        </div>
                        
                        <div class="input-row english-prompt-row">
                            <div class="input-label">
                                <i class="ri-english-input"></i>
                                <span>Ïã§Ï†ú ÌîÑÎ°¨ÌîÑÌä∏ (ÏòÅÏñ¥)</span>
                                <span class="translate-status" id="translateStatus"></span>
                            </div>
                            <textarea id="promptInput" placeholder="English prompt will appear here... (ÏßÅÏ†ë Ìé∏Ïßë Í∞ÄÎä•)" rows="3"></textarea>
                        </div>
                        
                        <div class="input-actions">
                            <div class="quick-settings">
                                <div class="setting-with-tooltip">
                                    <select id="resolutionSelect" title="Ìï¥ÏÉÅÎèÑ: Ïù¥ÎØ∏ÏßÄ ÌÅ¨Í∏∞ (ÌÅ¥ÏàòÎ°ù Í≥†ÌíàÏßà, VRAM Îçî ÏÇ¨Ïö©)">
                                        <option value="512x512">512√ó512</option>
                                        <option value="768x768">768√ó768</option>
                                        <option value="1024x1024">1024√ó1024</option>
                                        <option value="512x768">512√ó768 (ÏÑ∏Î°ú)</option>
                                        <option value="768x512">768√ó512 (Í∞ÄÎ°ú)</option>
                                        <option value="custom">üìê Ïª§Ïä§ÌÖÄ</option>
                                    </select>
                                    <span class="tooltip-icon" data-tooltip="Ìï¥ÏÉÅÎèÑ: ÏÉùÏÑ±Ìï† Ïù¥ÎØ∏ÏßÄÏùò ÌÅ¨Í∏∞ÏûÖÎãàÎã§. 512√ó512Í∞Ä Í∏∞Î≥∏Ïù¥Î©∞, ÌÅ¥ÏàòÎ°ù Îçî ÏÑ∏Î∞ÄÌïú Ïù¥ÎØ∏ÏßÄÎ•º ÏÉùÏÑ±ÌïòÏßÄÎßå VRAMÏùÑ Îçî ÏÇ¨Ïö©Ìï©ÎãàÎã§.">?</span>
                                </div>
                                
                                <!-- Ïª§Ïä§ÌÖÄ Ìï¥ÏÉÅÎèÑ ÏûÖÎ†• -->
                                <div class="custom-resolution" id="customResolution" style="display: none;">
                                    <input type="number" id="customWidth" placeholder="ÎÑàÎπÑ" value="512" min="256" max="2048" step="64">
                                    <span>√ó</span>
                                    <input type="number" id="customHeight" placeholder="ÎÜíÏù¥" value="512" min="256" max="2048" step="64">
                                </div>
                                
                                <div class="setting-with-tooltip">
                                    <input type="number" id="seedInput" placeholder="ÏãúÎìú" value="-1" title="ÏãúÎìú: -1=ÎûúÎç§, Í∞ôÏùÄ Ïà´Ïûê=Í∞ôÏùÄ Ïù¥ÎØ∏ÏßÄ">
                                    <span class="tooltip-icon" data-tooltip="ÏãúÎìú: Ïù¥ÎØ∏ÏßÄ ÏÉùÏÑ±Ïùò Í∏∞Ï§Ä Ïà´ÏûêÏûÖÎãàÎã§. -1ÏùÄ ÎûúÎç§Ïù¥Î©∞, Í∞ôÏùÄ ÏãúÎìú+ÌîÑÎ°¨ÌîÑÌä∏Îäî Í∞ôÏùÄ Ïù¥ÎØ∏ÏßÄÎ•º ÏÉùÏÑ±Ìï©ÎãàÎã§. Í≤∞Í≥ºÍ∞Ä ÎßàÏùåÏóê Îì§Î©¥ ÏãúÎìúÎ•º Í∏∞ÏñµÌï¥ÎëêÏÑ∏Ïöî!">?</span>
                                </div>
                                
                                <div class="setting-with-tooltip">
                                    <input type="number" id="stepsInput" placeholder="Ïä§ÌÖù" value="8" min="1" max="50" title="Ïä§ÌÖù: ÎÜíÏùÑÏàòÎ°ù ÌíàÏßà‚Üë ÏÜçÎèÑ‚Üì">
                                    <span class="tooltip-icon" data-tooltip="Ïä§ÌÖù(Steps): Ïù¥ÎØ∏ÏßÄÎ•º Îã§Îì¨Îäî ÌöüÏàòÏûÖÎãàÎã§. 4~8Ïù¥ Í∏∞Î≥∏, ÎÜíÏùÑÏàòÎ°ù ÌíàÏßàÏù¥ Ï¢ãÏïÑÏßÄÏßÄÎßå ÏãúÍ∞ÑÏù¥ Îçî Í±∏Î¶ΩÎãàÎã§. Z-ImageÎäî Turbo Î™®Îç∏Ïù¥Îùº 4~12Ïä§ÌÖùÏù¥Î©¥ Ï∂©Î∂ÑÌï©ÎãàÎã§.">?</span>
                                </div>
                                
                                <div class="setting-with-tooltip">
                                    <input type="number" id="numImagesInput" placeholder="Í∞úÏàò" value="1" min="1" max="10" title="Ìïú Î≤àÏóê ÏÉùÏÑ±Ìï† Ïù¥ÎØ∏ÏßÄ Í∞úÏàò">
                                    <span class="tooltip-icon" data-tooltip="ÏÉùÏÑ± Í∞úÏàò: Ìïú Î≤àÏóê Î™á Ïû•Ïùò Ïù¥ÎØ∏ÏßÄÎ•º ÎßåÎì§ÏßÄ ÏÑ§Ï†ïÌï©ÎãàÎã§. Í∞Å Ïù¥ÎØ∏ÏßÄÎäî ÏãúÎìúÍ∞Ä 1Ïî© Ï¶ùÍ∞ÄÌïòÎ©∞, Ïó¨Îü¨ Î≥ÄÌòïÏùÑ ÎπÑÍµêÌïòÍ≥† Ïã∂ÏùÑ Îïå Ïú†Ïö©Ìï©ÎãàÎã§.">?</span>
                                </div>
                            </div>
                            <div class="action-buttons">
                                <button class="btn btn-secondary" id="btnPreview" title="256√ó256 ÌÅ¨Í∏∞Î°ú Îπ†Î•¥Í≤å ÎØ∏Î¶¨Î≥¥Í∏∞">
                                    <i class="ri-eye-line"></i> ÎØ∏Î¶¨Î≥¥Í∏∞
                                </button>
                                <button class="btn btn-primary" id="btnGenerate" title="ÏÑ§Ï†ïÎêú Ìï¥ÏÉÅÎèÑÎ°ú Ïù¥ÎØ∏ÏßÄ ÏÉùÏÑ±">
                                    <i class="ri-brush-line"></i> ÏÉùÏÑ±
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- ControlNet ÌÉ≠ -->
            <section class="tab-content" id="tab-controlnet">
                <div class="controlnet-container">
                    <!-- ControlNet ÏÉÅÎã® Î∞î -->
                    <div class="controlnet-header">
                        <div class="controlnet-status">
                            <div class="cn-status-badge" id="cnStatusBadge">
                                <span class="status-dot offline"></span>
                                <span class="status-text">ControlNet ÎØ∏Î°úÎìú</span>
                            </div>
                            <div class="cn-actions">
                                <button class="btn btn-sm btn-primary" id="btnLoadControlNet" title="ControlNet Î™®Îç∏ Î°úÎìú">
                                    <i class="ri-download-line"></i> ControlNet Î°úÎìú
                                </button>
                                <button class="btn btn-sm btn-danger" id="btnUnloadControlNet" title="ControlNet Î™®Îç∏ Ïñ∏Î°úÎìú">
                                    <i class="ri-close-line"></i> Ïñ∏Î°úÎìú
                                </button>
                            </div>
                        </div>
                        
                        <!-- ControlNet ÌîÑÎ°úÍ∑∏Î†àÏä§ Î∞î -->
                        <div class="progress-container" id="cnProgressContainer" style="display: none;">
                            <div class="progress-info">
                                <span class="progress-label" id="cnProgressLabel">Î°úÎî© Ï§ë...</span>
                                <span class="progress-percent" id="cnProgressPercent">0%</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" id="cnProgressFill" style="width: 0%"></div>
                            </div>
                            <div class="progress-detail" id="cnProgressDetail"></div>
                        </div>
                    </div>
                    
                    <div class="controlnet-main">
                        <!-- Ï¢åÏ∏°: Ïª®Ìä∏Î°§ Ïù¥ÎØ∏ÏßÄ ÏòÅÏó≠ -->
                        <div class="cn-left-panel">
                            <div class="cn-section">
                                <h3><i class="ri-image-add-line"></i> Ïª®Ìä∏Î°§ Ïù¥ÎØ∏ÏßÄ</h3>
                                
                                <!-- Ïª®Ìä∏Î°§ ÌÉÄÏûÖ ÏÑ†ÌÉù -->
                                <div class="cn-control-type">
                                    <label>Ïª®Ìä∏Î°§ ÌÉÄÏûÖ</label>
                                    <select id="cnControlTypeSelect">
                                        <option value="canny">Canny Edge (Ïú§Í≥ΩÏÑ†)</option>
                                        <option value="depth">Depth Map (ÍπäÏù¥)</option>
                                        <option value="pose">Pose (Ìè¨Ï¶à)</option>
                                        <option value="hed">HED Edge (Î∂ÄÎìúÎü¨Ïö¥ Ïú§Í≥Ω)</option>
                                        <option value="mlsd">MLSD Lines (ÏßÅÏÑ†)</option>
                                    </select>
                                </div>
                                
                                <!-- Ïù¥ÎØ∏ÏßÄ ÏóÖÎ°úÎìú ÎìúÎ°≠Ï°¥ -->
                                <div class="cn-dropzone" id="cnDropzone">
                                    <div class="dropzone-content">
                                        <i class="ri-upload-cloud-2-line"></i>
                                        <p>Ïù¥ÎØ∏ÏßÄÎ•º ÎìúÎûòÍ∑∏ÌïòÍ±∞ÎÇò ÌÅ¥Î¶≠ÌïòÏó¨ ÏóÖÎ°úÎìú</p>
                                        <small>PNG, JPG, WEBP ÏßÄÏõê</small>
                                    </div>
                                    <input type="file" id="cnFileInput" accept="image/*" hidden>
                                </div>
                                
                                <!-- ÏóÖÎ°úÎìúÎêú ÏõêÎ≥∏ Ïù¥ÎØ∏ÏßÄ ÎØ∏Î¶¨Î≥¥Í∏∞ -->
                                <div class="cn-preview-container" id="cnOriginalPreview" style="display: none;">
                                    <div class="cn-preview-header">
                                        <span>ÏõêÎ≥∏ Ïù¥ÎØ∏ÏßÄ</span>
                                        <button class="btn btn-xs btn-danger" id="btnClearCnImage" title="Ïù¥ÎØ∏ÏßÄ Ï†úÍ±∞">
                                            <i class="ri-close-line"></i>
                                        </button>
                                    </div>
                                    <img id="cnOriginalImage" src="" alt="ÏõêÎ≥∏ Ïù¥ÎØ∏ÏßÄ">
                                </div>
                                
                                <!-- Ï†ÑÏ≤òÎ¶¨ ÏÑ§Ï†ï -->
                                <div class="cn-preprocess-settings" id="cnPreprocessSettings" style="display: none;">
                                    <h4>Ï†ÑÏ≤òÎ¶¨ ÏÑ§Ï†ï</h4>
                                    
                                    <!-- Canny ÏÑ§Ï†ï -->
                                    <div class="cn-setting-group canny-settings" id="cannySettings">
                                        <label>
                                            Low Threshold
                                            <input type="number" id="cannyLow" value="100" min="0" max="255">
                                        </label>
                                        <label>
                                            High Threshold
                                            <input type="number" id="cannyHigh" value="200" min="0" max="255">
                                        </label>
                                    </div>
                                    
                                    <!-- MLSD ÏÑ§Ï†ï -->
                                    <div class="cn-setting-group mlsd-settings" id="mlsdSettings" style="display: none;">
                                        <label>
                                            Value Threshold
                                            <input type="number" id="mlsdThrV" value="0.1" min="0" max="1" step="0.01">
                                        </label>
                                        <label>
                                            Distance Threshold
                                            <input type="number" id="mlsdThrD" value="0.1" min="0" max="1" step="0.01">
                                        </label>
                                    </div>
                                    
                                    <!-- Pose ÏÑ§Ï†ï -->
                                    <div class="cn-setting-group pose-settings" id="poseSettings" style="display: none;">
                                        <label>
                                            <input type="checkbox" id="poseIncludeHand">
                                            ÏÜê Ìè¨Ï¶à Ìè¨Ìï®
                                        </label>
                                        <label>
                                            <input type="checkbox" id="poseIncludeFace">
                                            ÏñºÍµ¥ Ìè¨Ï¶à Ìè¨Ìï®
                                        </label>
                                    </div>
                                    
                                    <button class="btn btn-secondary" id="btnPreprocess">
                                        <i class="ri-magic-line"></i> Ï†ÑÏ≤òÎ¶¨ Ïã§Ìñâ
                                    </button>
                                </div>
                                
                                <!-- Ï†ÑÏ≤òÎ¶¨Îêú Ïª®Ìä∏Î°§ Ïù¥ÎØ∏ÏßÄ ÎØ∏Î¶¨Î≥¥Í∏∞ -->
                                <div class="cn-preview-container" id="cnProcessedPreview" style="display: none;">
                                    <div class="cn-preview-header">
                                        <span>Ï†ÑÏ≤òÎ¶¨Îêú Ïù¥ÎØ∏ÏßÄ</span>
                                    </div>
                                    <img id="cnProcessedImage" src="" alt="Ï†ÑÏ≤òÎ¶¨Îêú Ïù¥ÎØ∏ÏßÄ">
                                </div>
                            </div>
                        </div>
                        
                        <!-- Ïö∞Ï∏°: ÌîÑÎ°¨ÌîÑÌä∏ Î∞è ÏÉùÏÑ± ÏÑ§Ï†ï -->
                        <div class="cn-right-panel">
                            <div class="cn-section">
                                <h3><i class="ri-edit-line"></i> ÌîÑÎ°¨ÌîÑÌä∏</h3>
                                
                                <div class="cn-prompt-area">
                                    <div class="input-row">
                                        <label>ÌïúÍµ≠Ïñ¥ ÏûÖÎ†•</label>
                                        <textarea id="cnKoreanInput" placeholder="Ïó¨Í∏∞Ïóê ÌïúÍµ≠Ïñ¥Î°ú ÏûÖÎ†•ÌïòÏÑ∏Ïöî..." rows="2"></textarea>
                                        <button class="btn btn-xs btn-primary" id="btnCnTranslate">
                                            <i class="ri-translate-2"></i> Î≤àÏó≠
                                        </button>
                                    </div>
                                    
                                    <div class="input-row">
                                        <label>ÏòÅÏñ¥ ÌîÑÎ°¨ÌîÑÌä∏</label>
                                        <textarea id="cnPromptInput" placeholder="English prompt..." rows="3"></textarea>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="cn-section">
                                <h3><i class="ri-settings-4-line"></i> ÏÉùÏÑ± ÏÑ§Ï†ï</h3>
                                
                                <div class="cn-settings-grid">
                                    <div class="cn-setting">
                                        <label>Control Scale</label>
                                        <div class="cn-slider-container">
                                            <input type="range" id="cnControlScale" min="0.5" max="1.0" step="0.05" value="0.7">
                                            <span id="cnControlScaleValue">0.7</span>
                                        </div>
                                        <small>Ïª®Ìä∏Î°§ Í∞ïÎèÑ (Í∂åÏû•: 0.65~0.80)</small>
                                    </div>
                                    
                                    <div class="cn-setting">
                                        <label>Ìï¥ÏÉÅÎèÑ</label>
                                        <select id="cnResolutionSelect">
                                            <option value="512x512">512√ó512</option>
                                            <option value="768x768">768√ó768</option>
                                            <option value="1024x1024">1024√ó1024</option>
                                            <option value="512x768">512√ó768 (ÏÑ∏Î°ú)</option>
                                            <option value="768x512">768√ó512 (Í∞ÄÎ°ú)</option>
                                        </select>
                                    </div>
                                    
                                    <div class="cn-setting">
                                        <label>ÏãúÎìú</label>
                                        <input type="number" id="cnSeedInput" value="-1" placeholder="-1 = ÎûúÎç§">
                                    </div>
                                    
                                    <div class="cn-setting">
                                        <label>Ïä§ÌÖù</label>
                                        <input type="number" id="cnStepsInput" value="8" min="1" max="50">
                                    </div>
                                    
                                    <div class="cn-setting">
                                        <label>ÏÉùÏÑ± Í∞úÏàò</label>
                                        <input type="number" id="cnNumImagesInput" value="1" min="1" max="10">
                                    </div>
                                </div>
                                
                                <div class="cn-generate-actions">
                                    <button class="btn btn-primary btn-lg" id="btnCnGenerate">
                                        <i class="ri-brush-line"></i> ControlNet ÏÉùÏÑ±
                                    </button>
                                </div>
                            </div>
                            
                            <!-- ÏÉùÏÑ± Í≤∞Í≥º -->
                            <div class="cn-section cn-results" id="cnResults" style="display: none;">
                                <h3><i class="ri-image-line"></i> ÏÉùÏÑ± Í≤∞Í≥º</h3>
                                <div class="cn-results-grid" id="cnResultsGrid"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Í∞§Îü¨Î¶¨ ÌÉ≠ -->
            <section class="tab-content" id="tab-gallery">
                <div class="tab-header">
                    <h2><i class="ri-gallery-line"></i> Í∞§Îü¨Î¶¨</h2>
                    <button class="btn btn-secondary" id="btnRefreshGallery">
                        <i class="ri-refresh-line"></i> ÏÉàÎ°úÍ≥†Ïπ®
                    </button>
                </div>
                <div class="gallery-grid" id="galleryGrid"></div>
            </section>
            
            <!-- ÌûàÏä§ÌÜ†Î¶¨ ÌÉ≠ -->
            <section class="tab-content" id="tab-history">
                <div class="tab-header">
                    <h2><i class="ri-history-line"></i> ÌîÑÎ°¨ÌîÑÌä∏ ÌûàÏä§ÌÜ†Î¶¨</h2>
                    <button class="btn btn-danger" id="btnClearHistory">
                        <i class="ri-delete-bin-line"></i> ÏÇ≠Ï†ú
                    </button>
                </div>
                <div class="history-list" id="historyList"></div>
            </section>
            
            <!-- Ï¶êÍ≤®Ï∞æÍ∏∞ ÌÉ≠ -->
            <section class="tab-content" id="tab-favorites">
                <div class="tab-header">
                    <h2><i class="ri-star-line"></i> Ï¶êÍ≤®Ï∞æÍ∏∞</h2>
                </div>
                <div class="favorites-list" id="favoritesList"></div>
            </section>
            
            <!-- ÏÑ§Ï†ï ÌÉ≠ -->
            <section class="tab-content" id="tab-settings">
                <div class="tab-header">
                    <h2><i class="ri-settings-3-line"></i> ÏÑ§Ï†ï</h2>
                </div>
                
                <div class="settings-section">
                    <h3>ü§ñ Î™®Îç∏ ÏÑ§Ï†ï</h3>
                    <div class="setting-group">
                        <label>ÏñëÏûêÌôî</label>
                        <select id="quantizationSelect">
                            <option value="BF16 (Í∏∞Î≥∏, ÏµúÍ≥†ÌíàÏßà)">BF16 (Í∏∞Î≥∏, ÏµúÍ≥†ÌíàÏßà)</option>
                            <!-- ÏÑúÎ≤ÑÏóêÏÑú ÎèôÏ†ÅÏúºÎ°ú ÏòµÏÖòÏùÑ Î°úÎìúÌï©ÎãàÎã§ -->
                        </select>
                    </div>
                    <div class="setting-group">
                        <label>Î™®Îç∏ Í≤ΩÎ°ú (ÏÑ†ÌÉù)</label>
                        <input type="text" id="modelPathInput" placeholder="ÎπÑÏõåÎëêÎ©¥ Í∏∞Î≥∏ Í≤ΩÎ°ú">
                    </div>
                    <div class="setting-group">
                        <label>
                            <input type="checkbox" id="cpuOffloadCheck">
                            CPU Ïò§ÌîÑÎ°úÎî© (VRAM Î∂ÄÏ°± Ïãú)
                        </label>
                    </div>
                    <div class="setting-actions">
                        <button class="btn btn-primary" id="btnLoadModel">
                            <i class="ri-download-line"></i> Î™®Îç∏ Î°úÎìú
                        </button>
                        <button class="btn btn-danger" id="btnUnloadModel">
                            <i class="ri-upload-line"></i> Î™®Îç∏ Ïñ∏Î°úÎìú
                        </button>
                    </div>
                </div>
                
                <div class="settings-section">
                    <h3>üîë LLM API ÏÑ§Ï†ï (Î≤àÏó≠/ÌîÑÎ°¨ÌîÑÌä∏ Ìñ•ÏÉÅ)</h3>
                    <div class="setting-group">
                        <label>LLM Provider</label>
                        <select id="llmProviderSelect">
                            <option value="openai">OpenAI</option>
                            <!-- ÏÑúÎ≤ÑÏóêÏÑú ÎèôÏ†ÅÏúºÎ°ú Î°úÎìú -->
                        </select>
                    </div>
                    <div class="setting-group">
                        <label>API ÌÇ§</label>
                        <input type="password" id="llmApiKeyInput" placeholder="API ÌÇ§Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî">
                    </div>
                    <div class="setting-group" id="llmBaseUrlGroup" style="display: none;">
                        <label>Base URL (Ïª§Ïä§ÌÖÄ providerÏö©)</label>
                        <input type="text" id="llmBaseUrlInput" placeholder="https://api.example.com/v1">
                    </div>
                    <div class="setting-group">
                        <label>Î™®Îç∏ (ÎπÑÏõåÎëêÎ©¥ Í∏∞Î≥∏Í∞í ÏÇ¨Ïö©)</label>
                        <div class="model-input-wrapper">
                            <select id="llmModelSelect">
                                <option value="">Í∏∞Î≥∏ Î™®Îç∏</option>
                                <option value="__custom__">‚úèÔ∏è ÏßÅÏ†ë ÏûÖÎ†•...</option>
                            </select>
                            <input type="text" id="llmModelCustomInput" placeholder="Î™®Îç∏Î™ÖÏùÑ ÏßÅÏ†ë ÏûÖÎ†• (Ïòà: gpt-4o)" style="display: none;">
                        </div>
                    </div>
                    <div class="setting-info" id="llmProviderInfo">
                        <small>üí° OpenAI, OpenRouter, Groq, Together AI, Ollama, LM Studio Îì± OpenAI Ìò∏Ìôò APIÎ•º ÏßÄÏõêÌï©ÎãàÎã§.</small>
                    </div>
                    <button class="btn btn-secondary" id="btnSaveLlmSettings">
                        <i class="ri-save-line"></i> LLM ÏÑ§Ï†ï Ï†ÄÏû•
                    </button>
                </div>
                
                <div class="settings-section">
                    <h3>üìù ÏãúÏä§ÌÖú ÌîÑÎ°¨ÌîÑÌä∏ ÏÑ§Ï†ï</h3>
                    <p class="setting-description">Î≤àÏó≠ Î∞è ÌîÑÎ°¨ÌîÑÌä∏ Ìñ•ÏÉÅ Ïãú LLMÏóê Ï†ÑÎã¨ÎêòÎäî ÏãúÏä§ÌÖú ÌîÑÎ°¨ÌîÑÌä∏Î•º Ïª§Ïä§ÌÑ∞ÎßàÏù¥ÏßïÌï† Ïàò ÏûàÏäµÎãàÎã§.</p>
                    
                    <div class="setting-group">
                        <label>
                            Î≤àÏó≠ ÏãúÏä§ÌÖú ÌîÑÎ°¨ÌîÑÌä∏
                            <button class="btn btn-xs btn-secondary" id="btnResetTranslatePrompt" title="Í∏∞Î≥∏Í∞íÏúºÎ°ú Ï¥àÍ∏∞Ìôî">
                                <i class="ri-restart-line"></i> Ï¥àÍ∏∞Ìôî
                            </button>
                        </label>
                        <textarea id="translateSystemPrompt" rows="6" placeholder="Î≤àÏó≠ ÏãúÏä§ÌÖú ÌîÑÎ°¨ÌîÑÌä∏..."></textarea>
                    </div>
                    
                    <div class="setting-group">
                        <label>
                            Ìñ•ÏÉÅ ÏãúÏä§ÌÖú ÌîÑÎ°¨ÌîÑÌä∏
                            <button class="btn btn-xs btn-secondary" id="btnResetEnhancePrompt" title="Í∏∞Î≥∏Í∞íÏúºÎ°ú Ï¥àÍ∏∞Ìôî">
                                <i class="ri-restart-line"></i> Ï¥àÍ∏∞Ìôî
                            </button>
                        </label>
                        <textarea id="enhanceSystemPrompt" rows="8" placeholder="Ìñ•ÏÉÅ ÏãúÏä§ÌÖú ÌîÑÎ°¨ÌîÑÌä∏..."></textarea>
                    </div>
                    
                    <button class="btn btn-secondary" id="btnSaveSystemPrompts">
                        <i class="ri-save-line"></i> ÏãúÏä§ÌÖú ÌîÑÎ°¨ÌîÑÌä∏ Ï†ÄÏû•
                    </button>
                </div>
                
                <div class="settings-section">
                    <h3>üìÅ Ï∂úÎ†• ÏÑ§Ï†ï</h3>
                    <div class="setting-group">
                        <label>ÌååÏùºÎ™Ö Ìå®ÌÑ¥</label>
                        <select id="filenamePatternSelect">
                            <option value="{date}_{time}_{seed}">ÎÇ†Ïßú_ÏãúÍ∞Ñ_ÏãúÎìú</option>
                            <option value="{prompt_short}_{seed}">ÌîÑÎ°¨ÌîÑÌä∏_ÏãúÎìú</option>
                            <option value="image_{counter}_{seed}">image_Î≤àÌò∏_ÏãúÎìú</option>
                        </select>
                    </div>
                </div>
            </section>
        </main>
    </div>
    
    <!-- Î™®Îã¨: Ïù¥ÎØ∏ÏßÄ Î∑∞Ïñ¥ -->
    <div class="modal" id="imageModal">
        <div class="modal-content image-viewer">
            <button class="modal-close" id="closeImageModal">√ó</button>
            <img id="modalImage" src="" alt="">
            <div class="modal-info" id="modalInfo"></div>
        </div>
    </div>
    
    <!-- Î™®Îã¨: ÌÖúÌîåÎ¶ø ÏÑ†ÌÉù -->
    <div class="modal" id="templateModal">
        <div class="modal-content">
            <h3>ÌîÑÎ°¨ÌîÑÌä∏ ÌÖúÌîåÎ¶ø</h3>
            <div class="template-list" id="templateList"></div>
            <button class="btn btn-secondary" onclick="closeModal('templateModal')">Îã´Í∏∞</button>
        </div>
    </div>
    
    <!-- Î™®Îã¨: Ï¶êÍ≤®Ï∞æÍ∏∞ Ï†ÄÏû• -->
    <div class="modal" id="saveFavoriteModal">
        <div class="modal-content">
            <h3>Ï¶êÍ≤®Ï∞æÍ∏∞ Ï†ÄÏû•</h3>
            <input type="text" id="favNameInput" placeholder="Ïù¥Î¶Ñ">
            <div class="modal-actions">
                <button class="btn btn-secondary" onclick="closeModal('saveFavoriteModal')">Ï∑®ÏÜå</button>
                <button class="btn btn-primary" id="btnSaveFavorite">Ï†ÄÏû•</button>
            </div>
        </div>
    </div>
    
    <script src="/static/js/app.js"></script>
</body>
</html>
